class studentuser(
$uid = '502',
$gid = 'staff',
$home = '/Users/students'
) {

  user { 'students':
    shell => '/bin/bash',
    password => '0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001477DF8F8BC92E0E9FBCF9C647BA2437AD382ED14951D48C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    comment => 'Student User',
    home => $home,
    ensure => 'present',
    uid => $uid,
    gid => $gid,
}

  file { '/Users/students':
    ensure  => 'directory',
    owner   => 'students',
    group   => 'staff',
    recurse => true,
    force   => true,  
  }

  exec { 'reset-user-perms':
    command => '/usr/sbin/chown -R students:staff /Users/students',
    require => User['students'],
  }
} # End of Class
